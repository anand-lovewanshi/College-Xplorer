{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import { useParams, Link, useNavigate } from \"react-router-dom\";\n// import { collegeData as staticCollegeData } from \"../data/collegedata.js\"; // Import the static data\n\n// const CollegeDetailPage = () => {\n//   const { stream, collegeName: encodedCollegeName } = useParams();\n//   const navigate = useNavigate();\n//   const collegeName = decodeURIComponent(encodedCollegeName);\n\n//   const [college, setCollege] = useState(null);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [error, setError] = useState(null);\n\n//   useEffect(() => {\n//     const fetchAndFindCollege = async () => {\n//       try {\n//         setIsLoading(true);\n\n//         // --- Step 1: Fetch data from both API and static file ---\n//         const apiResponsePromise = fetch('http://localhost:5000/api/colleges');\n//         const staticDataPromise = Promise.resolve(staticCollegeData);\n\n//         const [apiResult, staticResult] = await Promise.allSettled([\n//           apiResponsePromise.then(res => res.ok ? res.json() : Promise.reject('API fetch failed')),\n//           staticDataPromise\n//         ]);\n\n//         let allColleges = [];\n//         const staticColleges = (staticResult.status === 'fulfilled' && staticResult.value[stream]) ? staticResult.value[stream] : [];\n\n//         // --- Step 2: Combine and de-duplicate the data ---\n//         const collegeMap = new Map();\n\n//         // Add static colleges to the map first\n//         staticColleges.forEach(c => collegeMap.set(c.name, c));\n\n//         // Add/overwrite with dynamic colleges from the API\n//         if (apiResult.status === 'fulfilled') {\n//           const apiColleges = apiResult.value;\n//           apiColleges.forEach(c => {\n//             if (c.stream === stream) {\n//               collegeMap.set(c.name, c);\n//             }\n//           });\n//         } else {\n//           console.error(\"Could not fetch from API. Falling back to static data.\", apiResult.reason);\n//         }\n\n//         allColleges = Array.from(collegeMap.values());\n\n//         // --- Step 3: Find the specific college ---\n//         const foundCollege = allColleges.find(c => c.name === collegeName);\n\n//         if (foundCollege) {\n//           setCollege(foundCollege);\n//         } else {\n//           setError('College not found.');\n//         }\n\n//       } catch (err) {\n//         setError(err.message);\n//         console.error(\"Error fetching college details:\", err);\n//       } finally {\n//         setIsLoading(false);\n//       }\n//     };\n\n//     fetchAndFindCollege();\n//   }, [stream, collegeName]);\n\n//   const handleApplyClick = () => {\n//     if (college) {\n//       navigate('/enrollnow', { state: { collegeName: college.name } });\n//     }\n//   };\n\n//   const formatStreamTitle = (slug) => {\n//     if (!slug) return '';\n//     return slug.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n//   };\n\n//   if (isLoading) {\n//     return <div className=\"college-detail-container\"><p>Loading details...</p></div>;\n//   }\n\n//   if (error || !college) {\n//     return (\n//       <div className=\"college-detail-container\">\n//         <p>{error || 'College not found.'}</p>\n//         <Link to=\"/\" className=\"back-link\">&larr; Back to Home</Link>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"college-detail-container\">\n//       <Link to={`/colleges/${stream}`} className=\"back-link\">&larr; Back to {formatStreamTitle(stream)} Colleges</Link>\n//       <div className=\"college-detail-card\">\n//         <h1 className=\"college-detail-title\">{college.name}</h1>\n//         <p className=\"college-detail-city\">{college.city}</p>\n\n//         <div className=\"detail-section\">\n//           <h3>Description</h3>\n//           <p>{college.description || \"No description available.\"}</p>\n//         </div>\n\n//         <div className=\"detail-section\">\n//           <h3>Estimated Fees</h3>\n//           <p>{college.fees || \"Not available.\"}</p>\n//         </div>\n\n//         <div className=\"detail-section\">\n//           <h3>Courses Offered</h3>\n//           <p>{college.courses && college.courses.length > 0 ? college.courses.join(\", \") : \"Not available.\"}</p>\n//         </div>\n\n//         {college.website && (\n//           <div className=\"detail-section\">\n//             <h3>Website</h3>\n//             <a href={college.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"website-link\">\n//               Visit Website\n//             </a>\n//           </div>\n//         )}\n\n//         <div className=\"college-detail-actions\">\n//             <button className=\"btn-apply-detail\" onClick={handleApplyClick}>\n//                 Apply Now\n//             </button>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default CollegeDetailPage;","map":{"version":3,"names":[],"sources":["D:/CollegeWeb/collegexplorer-app/src/components/CollegeDetailPage.jsx"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { useParams, Link, useNavigate } from \"react-router-dom\";\r\n// import { collegeData as staticCollegeData } from \"../data/collegedata.js\"; // Import the static data\r\n\r\n// const CollegeDetailPage = () => {\r\n//   const { stream, collegeName: encodedCollegeName } = useParams();\r\n//   const navigate = useNavigate();\r\n//   const collegeName = decodeURIComponent(encodedCollegeName);\r\n\r\n//   const [college, setCollege] = useState(null);\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchAndFindCollege = async () => {\r\n//       try {\r\n//         setIsLoading(true);\r\n\r\n//         // --- Step 1: Fetch data from both API and static file ---\r\n//         const apiResponsePromise = fetch('http://localhost:5000/api/colleges');\r\n//         const staticDataPromise = Promise.resolve(staticCollegeData);\r\n\r\n//         const [apiResult, staticResult] = await Promise.allSettled([\r\n//           apiResponsePromise.then(res => res.ok ? res.json() : Promise.reject('API fetch failed')),\r\n//           staticDataPromise\r\n//         ]);\r\n\r\n//         let allColleges = [];\r\n//         const staticColleges = (staticResult.status === 'fulfilled' && staticResult.value[stream]) ? staticResult.value[stream] : [];\r\n\r\n//         // --- Step 2: Combine and de-duplicate the data ---\r\n//         const collegeMap = new Map();\r\n\r\n//         // Add static colleges to the map first\r\n//         staticColleges.forEach(c => collegeMap.set(c.name, c));\r\n\r\n//         // Add/overwrite with dynamic colleges from the API\r\n//         if (apiResult.status === 'fulfilled') {\r\n//           const apiColleges = apiResult.value;\r\n//           apiColleges.forEach(c => {\r\n//             if (c.stream === stream) {\r\n//               collegeMap.set(c.name, c);\r\n//             }\r\n//           });\r\n//         } else {\r\n//           console.error(\"Could not fetch from API. Falling back to static data.\", apiResult.reason);\r\n//         }\r\n\r\n//         allColleges = Array.from(collegeMap.values());\r\n        \r\n//         // --- Step 3: Find the specific college ---\r\n//         const foundCollege = allColleges.find(c => c.name === collegeName);\r\n\r\n//         if (foundCollege) {\r\n//           setCollege(foundCollege);\r\n//         } else {\r\n//           setError('College not found.');\r\n//         }\r\n\r\n//       } catch (err) {\r\n//         setError(err.message);\r\n//         console.error(\"Error fetching college details:\", err);\r\n//       } finally {\r\n//         setIsLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchAndFindCollege();\r\n//   }, [stream, collegeName]);\r\n\r\n//   const handleApplyClick = () => {\r\n//     if (college) {\r\n//       navigate('/enrollnow', { state: { collegeName: college.name } });\r\n//     }\r\n//   };\r\n\r\n//   const formatStreamTitle = (slug) => {\r\n//     if (!slug) return '';\r\n//     return slug.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n//   };\r\n  \r\n//   if (isLoading) {\r\n//     return <div className=\"college-detail-container\"><p>Loading details...</p></div>;\r\n//   }\r\n\r\n//   if (error || !college) {\r\n//     return (\r\n//       <div className=\"college-detail-container\">\r\n//         <p>{error || 'College not found.'}</p>\r\n//         <Link to=\"/\" className=\"back-link\">&larr; Back to Home</Link>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"college-detail-container\">\r\n//       <Link to={`/colleges/${stream}`} className=\"back-link\">&larr; Back to {formatStreamTitle(stream)} Colleges</Link>\r\n//       <div className=\"college-detail-card\">\r\n//         <h1 className=\"college-detail-title\">{college.name}</h1>\r\n//         <p className=\"college-detail-city\">{college.city}</p>\r\n        \r\n//         <div className=\"detail-section\">\r\n//           <h3>Description</h3>\r\n//           <p>{college.description || \"No description available.\"}</p>\r\n//         </div>\r\n\r\n//         <div className=\"detail-section\">\r\n//           <h3>Estimated Fees</h3>\r\n//           <p>{college.fees || \"Not available.\"}</p>\r\n//         </div>\r\n\r\n//         <div className=\"detail-section\">\r\n//           <h3>Courses Offered</h3>\r\n//           <p>{college.courses && college.courses.length > 0 ? college.courses.join(\", \") : \"Not available.\"}</p>\r\n//         </div>\r\n        \r\n//         {college.website && (\r\n//           <div className=\"detail-section\">\r\n//             <h3>Website</h3>\r\n//             <a href={college.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"website-link\">\r\n//               Visit Website\r\n//             </a>\r\n//           </div>\r\n//         )}\r\n\r\n//         <div className=\"college-detail-actions\">\r\n//             <button className=\"btn-apply-detail\" onClick={handleApplyClick}>\r\n//                 Apply Now\r\n//             </button>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default CollegeDetailPage;\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}