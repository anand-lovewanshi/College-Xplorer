{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=_ref=>{let{blogs}=_ref;// Extract unique categories\nconst categories=[...new Set(blogs.map(blog=>blog.category))];const recentPosts=blogs.slice(0,3);return/*#__PURE__*/_jsxs(\"aside\",{className:\"blog-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-widget\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"widget-title\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"widget-list\",children:categories.map((cat,i)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:cat})},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-widget\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"widget-title\",children:\"Recent Posts\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"widget-list\",children:recentPosts.map(post=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/blog/\".concat(post._id),children:post.title})},post._id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-widget\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://placehold.co/300x250/E5E7EB/4B5563?text=Ad+Banner\",alt:\"Ad Banner\"})})]});};const BlogPostCard=_ref2=>{let{post}=_ref2;return/*#__PURE__*/_jsx(\"article\",{className:\"blog-post-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"blog-post-content\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"blog-post-title\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/blog/\".concat(post._id),children:post.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-post-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"By \",post.author]}),\" |\",\" \",/*#__PURE__*/_jsx(\"span\",{children:new Date(post.createdAt).toLocaleDateString()}),\" |\",\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"In \",/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:post.category})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"blog-post-excerpt\",children:post.excerpt}),/*#__PURE__*/_jsx(\"a\",{href:\"/blog/\".concat(post._id),className:\"btn-outline\",children:\"Read More\"})]})});};export default function BlogPage(){const[blogs,setBlogs]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');// Fetch blogs from backend\nuseEffect(()=>{const fetchBlogs=async()=>{try{const response=await fetch('http://localhost:5000/api/blogs');if(!response.ok)throw new Error('Failed to fetch blogs');const data=await response.json();setBlogs(Array.isArray(data)?data:[]);}catch(err){console.error('Error fetching blogs:',err);setError('Unable to load blog posts. Please try again later.');}finally{setLoading(false);}};fetchBlogs();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Our Blog\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Insights and advice for your educational journey.\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading blogs...\"}):error?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}):blogs.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No blogs found. Please check back later.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"blog-layout\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"blog-main-content\",children:blogs.map(post=>/*#__PURE__*/_jsx(BlogPostCard,{post:post},post._id))}),/*#__PURE__*/_jsx(Sidebar,{blogs:blogs})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Sidebar","_ref","blogs","categories","Set","map","blog","category","recentPosts","slice","className","children","cat","i","href","post","concat","_id","title","src","alt","BlogPostCard","_ref2","author","Date","createdAt","toLocaleDateString","excerpt","BlogPage","setBlogs","loading","setLoading","error","setError","fetchBlogs","response","fetch","ok","Error","data","json","Array","isArray","err","console","length"],"sources":["C:/Users/MAHESH/Downloads/CollegeWeb (3)/CollegeWeb/collegexplorer-app/src/components/BlogPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst Sidebar = ({ blogs }) => {\r\n  // Extract unique categories\r\n  const categories = [...new Set(blogs.map(blog => blog.category))];\r\n  const recentPosts = blogs.slice(0, 3);\r\n\r\n  return (\r\n    <aside className=\"blog-sidebar\">\r\n      <div className=\"sidebar-widget\">\r\n        <h3 className=\"widget-title\">Categories</h3>\r\n        <ul className=\"widget-list\">\r\n          {categories.map((cat, i) => (\r\n            <li key={i}><a href=\"/\">{cat}</a></li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"sidebar-widget\">\r\n        <h3 className=\"widget-title\">Recent Posts</h3>\r\n        <ul className=\"widget-list\">\r\n          {recentPosts.map(post => (\r\n            <li key={post._id}>\r\n              <a href={`/blog/${post._id}`}>{post.title}</a>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"sidebar-widget\">\r\n        <img\r\n          src=\"https://placehold.co/300x250/E5E7EB/4B5563?text=Ad+Banner\"\r\n          alt=\"Ad Banner\"\r\n        />\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nconst BlogPostCard = ({ post }) => (\r\n  <article className=\"blog-post-card\">\r\n    <div className=\"blog-post-content\">\r\n      <h2 className=\"blog-post-title\">\r\n        <a href={`/blog/${post._id}`}>{post.title}</a>\r\n      </h2>\r\n      <div className=\"blog-post-meta\">\r\n        <span>By {post.author}</span> |{\" \"}\r\n        <span>{new Date(post.createdAt).toLocaleDateString()}</span> |{\" \"}\r\n        <span>\r\n          In <a href=\"/\">{post.category}</a>\r\n        </span>\r\n      </div>\r\n      <p className=\"blog-post-excerpt\">{post.excerpt}</p>\r\n      <a href={`/blog/${post._id}`} className=\"btn-outline\">\r\n        Read More\r\n      </a>\r\n    </div>\r\n  </article>\r\n);\r\n\r\nexport default function BlogPage() {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Fetch blogs from backend\r\n  useEffect(() => {\r\n    const fetchBlogs = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/blogs');\r\n        if (!response.ok) throw new Error('Failed to fetch blogs');\r\n        const data = await response.json();\r\n        setBlogs(Array.isArray(data) ? data : []);\r\n      } catch (err) {\r\n        console.error('Error fetching blogs:', err);\r\n        setError('Unable to load blog posts. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"section\">\r\n      <div className=\"container\">\r\n        <div className=\"page-header\">\r\n          <h1>Our Blog</h1>\r\n          <p>Insights and advice for your educational journey.</p>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <p>Loading blogs...</p>\r\n        ) : error ? (\r\n          <p className=\"error\">{error}</p>\r\n        ) : blogs.length === 0 ? (\r\n          <p>No blogs found. Please check back later.</p>\r\n        ) : (\r\n          <div className=\"blog-layout\">\r\n            <main className=\"blog-main-content\">\r\n              {blogs.map(post => (\r\n                <BlogPostCard key={post._id} post={post} />\r\n              ))}\r\n            </main>\r\n            <Sidebar blogs={blogs} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}