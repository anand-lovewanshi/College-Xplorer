{"ast":null,"code":"\n// import React, { useState, useEffect } from \"react\";\n// import { useParams, useNavigate } from \"react-router-dom\";\n// import { collegeData as staticCollegeData } from \"../data/collegedata.js\"; // Import static data\n\n// const CollegeListPage = () => {\n//   const { stream } = useParams();\n//   const navigate = useNavigate();\n\n//   // State to hold combined list of colleges\n//   const [colleges, setColleges] = useState([]);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [error, setError] = useState(null);\n\n//   useEffect(() => {\n//     const fetchAllColleges = async () => {\n//       try {\n//         setIsLoading(true);\n\n//         // --- Fetch from both API and static file ---\n//         const apiResponsePromise = fetch('http://localhost:5000/api/colleges');\n//         const staticDataPromise = Promise.resolve(staticCollegeData);\n\n//         const [apiResult, staticResult] = await Promise.allSettled([\n//           apiResponsePromise.then(res => {\n//             if (!res.ok) throw new Error('Network response was not ok');\n//             return res.json();\n//           }),\n//           staticDataPromise\n//         ]);\n\n//         let apiColleges = [];\n//         if (apiResult.status === 'fulfilled') {\n//           apiColleges = apiResult.value;\n//         } else {\n//           console.error(\"Failed to fetch from API:\", apiResult.reason);\n//           // You might want to set a partial error state here\n//         }\n\n//         const staticColleges = staticResult.value || {};\n\n//         // --- Merge and de-duplicate data ---\n//         const combinedData = {};\n\n//         // 1. Add static data first\n//         if (staticColleges[stream]) {\n//             combinedData[stream] = [...staticColleges[stream]];\n//         } else {\n//             combinedData[stream] = [];\n//         }\n\n//         // 2. Add dynamic data, avoiding duplicates by name\n//         const existingNames = new Set(combinedData[stream].map(c => c.name));\n//         apiColleges.forEach(college => {\n//             if (college.stream === stream && !existingNames.has(college.name)) {\n//                 combinedData[stream].push(college);\n//             }\n//         });\n\n//         setColleges(combinedData[stream] || []);\n\n//       } catch (err) {\n//         setError(err.message);\n//         console.error(\"Failed to fetch and merge colleges:\", err);\n//       } finally {\n//         setIsLoading(false);\n//       }\n//     };\n\n//     fetchAllColleges();\n//   }, [stream]);\n\n//   const handleApplyClick = (collegeName) => {\n//     navigate('/enrollnow', { state: { collegeName: collegeName } });\n//   };\n\n//   const handleDetailsClick = (collegeName) => {\n//     const encodedCollegeName = encodeURIComponent(collegeName);\n//     navigate(`/colleges/${stream}/${encodedCollegeName}`);\n//   };\n\n//   const formatStreamTitle = (slug) => {\n//     if (!slug) return '';\n//     return slug.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n//   };\n\n//   return (\n//     <div className=\"college-list-container\">\n//       <h1 className=\"college-list-title\">{formatStreamTitle(stream)} Colleges</h1>\n\n//       {isLoading ? (\n//         <p>Loading colleges...</p>\n//       ) : error ? (\n//         <p>Error: {error}</p>\n//       ) : colleges.length === 0 ? (\n//         <p>No colleges found for this stream.</p>\n//       ) : (\n//         <ul className=\"college-list-ul\">\n//           {colleges.map((college, idx) => (\n//             <li key={college._id || idx} className=\"college-list-item\">\n//               <div className=\"college-info\">\n//                 <span className=\"college-name\">{college.name}</span>\n//                 <span className=\"college-city\">{college.city}</span>\n//               </div>\n//               <div className=\"college-actions\">\n//                 <button\n//                   className=\"btn-details\"\n//                   onClick={() => handleDetailsClick(college.name)}\n//                 >\n//                   Get Details\n//                 </button>\n//                 <button\n//                   className=\"btn-apply\"\n//                   onClick={() => handleApplyClick(college.name)}\n//                 >\n//                   Apply Now\n//                 </button>\n//               </div>\n//             </li>\n//           ))}\n//         </ul>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default CollegeListPage;","map":{"version":3,"names":[],"sources":["D:/CollegeWeb/collegexplorer-app/src/components/CollegeListPage.jsx"],"sourcesContent":["\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { useParams, useNavigate } from \"react-router-dom\";\r\n// import { collegeData as staticCollegeData } from \"../data/collegedata.js\"; // Import static data\r\n\r\n// const CollegeListPage = () => {\r\n//   const { stream } = useParams();\r\n//   const navigate = useNavigate();\r\n\r\n//   // State to hold combined list of colleges\r\n//   const [colleges, setColleges] = useState([]);\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchAllColleges = async () => {\r\n//       try {\r\n//         setIsLoading(true);\r\n        \r\n//         // --- Fetch from both API and static file ---\r\n//         const apiResponsePromise = fetch('http://localhost:5000/api/colleges');\r\n//         const staticDataPromise = Promise.resolve(staticCollegeData);\r\n\r\n//         const [apiResult, staticResult] = await Promise.allSettled([\r\n//           apiResponsePromise.then(res => {\r\n//             if (!res.ok) throw new Error('Network response was not ok');\r\n//             return res.json();\r\n//           }),\r\n//           staticDataPromise\r\n//         ]);\r\n\r\n//         let apiColleges = [];\r\n//         if (apiResult.status === 'fulfilled') {\r\n//           apiColleges = apiResult.value;\r\n//         } else {\r\n//           console.error(\"Failed to fetch from API:\", apiResult.reason);\r\n//           // You might want to set a partial error state here\r\n//         }\r\n\r\n//         const staticColleges = staticResult.value || {};\r\n        \r\n//         // --- Merge and de-duplicate data ---\r\n//         const combinedData = {};\r\n\r\n//         // 1. Add static data first\r\n//         if (staticColleges[stream]) {\r\n//             combinedData[stream] = [...staticColleges[stream]];\r\n//         } else {\r\n//             combinedData[stream] = [];\r\n//         }\r\n        \r\n//         // 2. Add dynamic data, avoiding duplicates by name\r\n//         const existingNames = new Set(combinedData[stream].map(c => c.name));\r\n//         apiColleges.forEach(college => {\r\n//             if (college.stream === stream && !existingNames.has(college.name)) {\r\n//                 combinedData[stream].push(college);\r\n//             }\r\n//         });\r\n\r\n//         setColleges(combinedData[stream] || []);\r\n\r\n//       } catch (err) {\r\n//         setError(err.message);\r\n//         console.error(\"Failed to fetch and merge colleges:\", err);\r\n//       } finally {\r\n//         setIsLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     fetchAllColleges();\r\n//   }, [stream]);\r\n\r\n//   const handleApplyClick = (collegeName) => {\r\n//     navigate('/enrollnow', { state: { collegeName: collegeName } });\r\n//   };\r\n\r\n//   const handleDetailsClick = (collegeName) => {\r\n//     const encodedCollegeName = encodeURIComponent(collegeName);\r\n//     navigate(`/colleges/${stream}/${encodedCollegeName}`);\r\n//   };\r\n\r\n//   const formatStreamTitle = (slug) => {\r\n//     if (!slug) return '';\r\n//     return slug.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"college-list-container\">\r\n//       <h1 className=\"college-list-title\">{formatStreamTitle(stream)} Colleges</h1>\r\n      \r\n//       {isLoading ? (\r\n//         <p>Loading colleges...</p>\r\n//       ) : error ? (\r\n//         <p>Error: {error}</p>\r\n//       ) : colleges.length === 0 ? (\r\n//         <p>No colleges found for this stream.</p>\r\n//       ) : (\r\n//         <ul className=\"college-list-ul\">\r\n//           {colleges.map((college, idx) => (\r\n//             <li key={college._id || idx} className=\"college-list-item\">\r\n//               <div className=\"college-info\">\r\n//                 <span className=\"college-name\">{college.name}</span>\r\n//                 <span className=\"college-city\">{college.city}</span>\r\n//               </div>\r\n//               <div className=\"college-actions\">\r\n//                 <button\r\n//                   className=\"btn-details\"\r\n//                   onClick={() => handleDetailsClick(college.name)}\r\n//                 >\r\n//                   Get Details\r\n//                 </button>\r\n//                 <button\r\n//                   className=\"btn-apply\"\r\n//                   onClick={() => handleApplyClick(college.name)}\r\n//                 >\r\n//                   Apply Now\r\n//                 </button>\r\n//               </div>\r\n//             </li>\r\n//           ))}\r\n//         </ul>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default CollegeListPage;\r\n\r\n"],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}