{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";// ✅ This component now fetches data from the API instead of a static file.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MadhyaPradeshColleges=()=>{const[groupedColleges,setGroupedColleges]=useState({});const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchAndGroupColleges=async()=>{try{setIsLoading(true);const response=await fetch('http://localhost:5000/api/colleges');if(!response.ok){throw new Error('Failed to fetch college data.');}const allColleges=await response.json();// Group the flat array of colleges into an object keyed by stream\nconst groups=allColleges.reduce((acc,college)=>{const{stream}=college;if(!acc[stream]){acc[stream]=[];}acc[stream].push(college);return acc;},{});setGroupedColleges(groups);}catch(err){setError(err.message);console.error(\"Error fetching colleges:\",err);}finally{setIsLoading(false);}};fetchAndGroupColleges();},[]);// Empty dependency array means this runs once on component mount\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"20px\"},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading colleges...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"20px\"},children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]})});}// ✅ The JSX now maps over the dynamically created 'groupedColleges' object\nreturn/*#__PURE__*/_jsx(\"div\",{style:{padding:\"20px\"},children:Object.keys(groupedColleges).map(stream=>/*#__PURE__*/_jsxs(\"section\",{style:{marginBottom:\"30px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/colleges/\".concat(stream),style:{textDecoration:\"none\"},children:[stream.replace(/-/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase()),\" Colleges\"]})}),/*#__PURE__*/_jsx(\"ul\",{children:groupedColleges[stream].map(college=>/*#__PURE__*/_jsxs(\"li\",{children:[\" \",college.name,\" - \",college.city]},college._id))})]},stream))});};export default MadhyaPradeshColleges;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","MadhyaPradeshColleges","groupedColleges","setGroupedColleges","isLoading","setIsLoading","error","setError","fetchAndGroupColleges","response","fetch","ok","Error","allColleges","json","groups","reduce","acc","college","stream","push","err","message","console","style","padding","children","Object","keys","map","marginBottom","to","concat","textDecoration","replace","l","toUpperCase","name","city","_id"],"sources":["D:/CollegeWeb/collegexplorer-app/src/components/MadhyaPradeshColleges.jsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// ✅ This component now fetches data from the API instead of a static file.\r\nconst MadhyaPradeshColleges = () => {\r\n  const [groupedColleges, setGroupedColleges] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchAndGroupColleges = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const response = await fetch('http://localhost:5000/api/colleges');\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch college data.');\r\n        }\r\n        const allColleges = await response.json();\r\n\r\n        // Group the flat array of colleges into an object keyed by stream\r\n        const groups = allColleges.reduce((acc, college) => {\r\n          const { stream } = college;\r\n          if (!acc[stream]) {\r\n            acc[stream] = [];\r\n          }\r\n          acc[stream].push(college);\r\n          return acc;\r\n        }, {});\r\n\r\n        setGroupedColleges(groups);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        console.error(\"Error fetching colleges:\", err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAndGroupColleges();\r\n  }, []); // Empty dependency array means this runs once on component mount\r\n\r\n  if (isLoading) {\r\n    return <div style={{ padding: \"20px\" }}><p>Loading colleges...</p></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div style={{ padding: \"20px\" }}><p>Error: {error}</p></div>;\r\n  }\r\n  \r\n  // ✅ The JSX now maps over the dynamically created 'groupedColleges' object\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      {Object.keys(groupedColleges).map((stream) => (\r\n        <section key={stream} style={{ marginBottom: \"30px\" }}>\r\n          <h2>\r\n            <Link to={`/colleges/${stream}`} style={{ textDecoration: \"none\" }}>\r\n              {/* Formatting the stream name to look nice */}\r\n              {stream.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())} Colleges\r\n            </Link>\r\n          </h2>\r\n          <ul>\r\n            {groupedColleges[stream].map((college) => (\r\n              <li key={college._id}> {/* Using the unique database ID as the key */}\r\n                {college.name} - {college.city}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </section>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MadhyaPradeshColleges;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}